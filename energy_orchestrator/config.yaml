name: Energy Orchestrator
version: "0.0.0.113"
slug: energy_orchestrator
description: Flask UI voor toekomstige energie-optimisatie.
arch:
  - amd64
startup: services
boot: auto
ingress: true
ingress_port: 8099
panel_icon: mdi:lightning-bolt
panel_title: Energy Orchestrator
init: false
build_from:
  amd64: ghcr.io/home-assistant/amd64-base:3.22

homeassistant_api: true

# Resource limits to prevent OOM kills during optimizer runs
map_ram: 1024
max_ram: 2048

options:
  db_host: core-mariadb
  db_user: energy_orchestrator
  db_password: ""
  db_name: energy_orchestrator
  # Sensor entity IDs - these are used for initial migration only.
  # After first run, configure sensors via the UI Configuration tab.
  wind_entity_id: sensor.knmi_windsnelheid
  outdoor_temp_entity_id: sensor.smile_outdoor_temperature
  flow_temp_entity_id: sensor.opentherm_water_temperature
  return_temp_entity_id: sensor.opentherm_return_temperature
  humidity_entity_id: sensor.knmi_luchtvochtigheid
  pressure_entity_id: sensor.knmi_luchtdruk
  hp_kwh_total_entity_id: sensor.extra_total
  dhw_temp_entity_id: sensor.opentherm_dhw_temperature
  indoor_temp_entity_id: sensor.anna_temperature
  target_temp_entity_id: sensor.anna_setpoint
  dhw_active_entity_id: binary_sensor.dhw_active

schema:
  db_host: str
  db_user: str
  db_password: str
  db_name: str
  # Sensor entity IDs are optional - migrated to UI configuration on first run
  wind_entity_id: str?
  outdoor_temp_entity_id: str?
  flow_temp_entity_id: str?
  return_temp_entity_id: str?
  humidity_entity_id: str?
  pressure_entity_id: str?
  hp_kwh_total_entity_id: str?
  dhw_temp_entity_id: str?
  indoor_temp_entity_id: str?
  target_temp_entity_id: str?
  dhw_active_entity_id: str?
